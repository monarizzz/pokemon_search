# ディレクトリ構造

プロジェクトのディレクトリ構造について説明します。

## プロジェクト全体構造

```
pokemon_search/
├── docs/                    # プロジェクトドキュメント
├── public/                  # Next.jsの静的ファイル
├── src/                     # ソースコード（メインディレクトリ）
├── package.json            # パッケージ依存関係
├── README.md               # プロジェクト概要
└── tsconfig.json           # TypeScript設定
```

## 主要ディレクトリ詳細

### `/src` - ソースコードディレクトリ

アプリケーションのメインソースコードを格納するディレクトリです。

#### `/src/commons`、`/src/features`、`/src/libs` - 共通ディレクトリ構造

**`/src/commons`、`/src/features`、`/src/libs`は同じディレクトリ構造を持ちます。**
違いは「利用目的と範囲」であり、内部構造は統一されています。

##### 共通のディレクトリ構造

3 つのディレクトリすべてが以下の統一された構造を持ちます：

```
commons/ または features/ または libs/
├── [機能名 or ライブラリ名]/
│   ├── components/      # React コンポーネント（[詳細なコンポーネント構造ルール](./component-structure.md)）
│   ├── hooks/           # カスタムフック
│   ├── types/           # TypeScript 型定義
│   ├── utils/           # ユーティリティ関数
│   └── constants/       # 定数定義
```

##### `/src/commons` - 共通ロジック・コンポーネント

**プロジェクト全体で再利用されるビジネスロジック・ドメインロジック**を格納します。

**配置基準:**

- 複数のページで使用されるコンポーネント、hooks、ユーティリティ
- ドメイン横断的な共通処理
- プロジェクト全体で再利用可能なビジネスロジック

**具体例:**

```
commons/
├── date/                 # 日付処理関連
├── layout/               # レイアウト関連
└── ... (その他多数)      # 必要に応じて追加・削除される
```

##### `/src/features` - 特定ページ専用ファイル

**特定のページでのみ使用するファイル**を格納します。機能別のモジュールではなく、**ページ固有の実装**を配置します。

**配置基準:**

- 特定の URL パス（ページ）でのみ使用されるコンポーネント、hooks、ユーティリティ
- そのページから離れると不要になるロジック
- ページ特有のビジネスロジックや状態管理

**具体例:**

```
features/
├── article/            # /article/[slug] ページ専用
│   ├── components/
│   │   ├── Toc/        # 記事ページの目次コンポーネント
│   │   ├── PostDate/   # 記事ページの投稿日表示
│   │   ├── PageNav/    # 記事ページのページナビゲーション
│   │   └── ArticlePageMain/  # 記事ページのメインコンポーネント
│   └── utils/
│       └── pageNavList.ts    # 記事ページのナビゲーションリスト生成
└── home/               # / (ホーム) ページ専用
    └── components/     # ホームページ専用コンポーネント
```

##### `/src/libs` - 外部ライブラリの設定、拡張、カスタマイズ

**外部ライブラリの設定、拡張、カスタマイズ**を格納します。

**配置基準:**

- 外部ライブラリの初期化設定
- ライブラリ固有のカスタムコンポーネント・フック
- ライブラリのラッパー関数やヘルパー

**具体例:**

```
libs/
└── microCMS/           # microCMS クライアント設定・拡張
    └── utils/
        └── client.ts   # microCMS クライアント初期化
```

#### `/src/infra` - インフラストラクチャ層

外部サービスとの連携やデータアクセス層を管理します。

```
infra/
├── microCMS/           # Contentful CMS 連携
│   ├── api/              # API エンドポイント定義
│   ├── entities/         # エンティティ定義
│   └── repositories/     # データアクセス関数（機能別整理）
```

#### `/src/pages` - Next.js ページ

Next.js のファイルベースルーティングに従ったページ定義です。

```
pages/
├── article/              # 記事ページ
├── api/                  # API ルート
├── _app.tsx              # アプリケーションルート
├── 404.tsx               # 404エラーページ
└── index.tsx             # ホームページ
```

### その他の主要ディレクトリ

#### `/docs` - ドキュメント

プロジェクト関連のドキュメントを格納します。

```
docs/
└── architecture/         # アーキテクチャドキュメント
    ├── README.md         # アーキテクチャ概要
    └── directory-structure.md    # ディレクトリ構造（このドキュメント）
```

#### `/public` - 静的ファイル

Next.js の静的ファイル配信用ディレクトリです。

```
public/
└── favicon.ico           # ファビコン
```
